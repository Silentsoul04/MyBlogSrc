---
title: ik
layout: post
category: elasticsearch
author: 夏泽民
---
https://github.com/medcl/elasticsearch-analysis-ik/releases
<!-- more -->
中文分词器下载
$elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.4/elasticsearch-analysis-ik-6.2.4.zip

-> Downloading https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.4/elasticsearch-analysis-ik-6.2.4.zip
Exception in thread "main" java.net.UnknownHostException: github.com

下载elasticsearch-analysis-ik-6.1.1.zip
解压
$mkdir -p /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
$mv elasticsearch /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
重启es失败
原因 多了层目录
/usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik／elasticsearch 内部的东西移动到
/usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
即可
重启

kibana 可以测试分词
GET _analyze?pretty
{
  "analyzer": "ik_smart",
  "text":"安徽省长江流域"
}
分词结果

{
  "tokens": [
    {
      "token": "安徽省",
      "start_offset": 0,
      "end_offset": 3,
      "type": "CN_WORD",
      "position": 0
    },
    {
      "token": "长江流域",
      "start_offset": 3,
      "end_offset": 7,
      "type": "CN_WORD",
      "position": 1
    }
  ]
}
<img src="{{site.url}}{{site.baseurl}}/img/kibana_ik.png"/>
